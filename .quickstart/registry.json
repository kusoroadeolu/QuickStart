{
  "git_server" : {
    "image" : "gitea/gitea:1.21.11-rootless",
    "container_name" : "local_git_server",
    "ports" : [ "3002:3000", "2222:22" ],
    "environment" : [ "USER_UID=1000", "USER_GID=1000", "GITEA__database__TYPE=sqlite3", "GITEA__database__PATH=/data/gitea.db" ],
    "volumes" : [ "gitea_data:/data", "gitea2_data:/data" ],
    "restart" : "unless-stopped"
  },
  "uptime_monitor" : {
    "image" : "louislam/uptime-kuma:1",
    "container_name" : "kuma_dashboard",
    "ports" : [ "3001:3001" ],
    "volumes" : [ "kuma_data:/app/data" ],
    "restart" : "always",
    "logging" : {
      "driver" : "json-file",
      "options" : {
        "max-size" : "10m",
        "max-file" : "10"
      }
    }
  },
  "app_test" : {
    "image" : "python:3.11-slim",
    "container_name" : "lightweight-app-test",
    "command" : "sh -c \"pip install -r requirements-test.txt && pytest\"",
    "volumes" : [ ".:/usr/src/app" ],
    "working_dir" : "/usr/src/app",
    "depends_on" : [ "redis" ],
    "environment" : {
      "REDIS_HOST" : "redis",
      "REDIS_PORT" : 6379
    }
  },
  "redis" : {
    "image" : "redis:7-alpine",
    "container_name" : "lightweight-redis",
    "ports" : [ "6379:6379" ],
    "healthcheck" : {
      "test" : [ "CMD", "redis-cli", "ping" ],
      "interval" : "10s",
      "timeout" : "5s",
      "retries" : 5
    }
  }
}